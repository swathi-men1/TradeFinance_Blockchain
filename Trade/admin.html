<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="trade.css">
</head>

<body>

<h1>Admin Dashboard</h1>

<button onclick="openLogoutModal()" class="logout-btn">Logout</button>

<!-- DASHBOARD CARDS -->
<div class="cards">
    <div class="card">
        <h3>Total Active Users</h3>
        <p id="activeUsers">-</p>
    </div>

    <div class="card">
        <h3>Tamper Attempts</h3>
        <p id="tamperCount">-</p>
    </div>
</div>

<!-- ALL USERS -->
<h2>All Users</h2>
<table class="trades-table" id="usersTable">
    <thead>
        <tr>
            <th>Username</th>
            <th>Role</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<!-- âœ… PENDING USER APPROVALS -->
<h2>Pending User Approvals</h2>
<table class="trades-table" id="pendingUsersTable">
    <thead>
        <tr>
            <th>Username</th>
            <th>Assign Role</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<!-- LOGOUT MODAL -->
<div id="logoutModal" class="modal">
    <div class="modal-content">
        <h3>Confirm Logout</h3>
        <p>Do you really want to logout?</p>
        <div class="modal-buttons">
            <button class="btn-yes" onclick="logoutYes()">Yes</button>
            <button class="btn-no" onclick="logoutNo()">No</button>
        </div>
    </div>
</div>

<!-- ðŸ” ROLE CHECK -->
<script>
const role = localStorage.getItem("role");
if (role !== "admin") {
    alert("Admin access only");
    window.location.href = "login.html";
}

function openLogoutModal() {
    document.getElementById("logoutModal").style.display = "block";
}
function logoutYes() {
    localStorage.clear();
    window.location.href = "login.html";
}
function logoutNo() {
    document.getElementById("logoutModal").style.display = "none";
}
</script>

<script src="admin.js"></script>
</body>
</html>